{"ast":null,"code":"import _toConsumableArray from\"/Users/phamthuan/Downloads/getis/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/phamthuan/Downloads/getis/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/phamthuan/Downloads/getis/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/phamthuan/Downloads/getis/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import FileStatistics from'./FileStatistics';import'bootstrap/dist/css/bootstrap.min.css';// Import CSS Bootstrap\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FileTable=function FileTable(_ref){var directoryId=_ref.directoryId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),files=_useState2[0],setFiles=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedFileIds=_useState4[0],setSelectedFileIds=_useState4[1];useEffect(function(){var fetchFiles=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/public-api/directory/\".concat(directoryId,\"/file\"),{headers:{'Authorization':'xxftwft1uud79b0pm7g4ohl0'}});case 3:response=_context.sent;setFiles(response.data.files);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('Error fetching files:',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchFiles(){return _ref2.apply(this,arguments);};}();fetchFiles();},[directoryId]);var handleClick=function handleClick(fileId){setSelectedFileIds(function(prevSelectedFileIds){if(prevSelectedFileIds.includes(fileId)){return prevSelectedFileIds.filter(function(id){return id!==fileId;});}else{return[].concat(_toConsumableArray(prevSelectedFileIds),[fileId]);}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"List of Files\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:files.map(function(file){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"File ID: \",file.id,/*#__PURE__*/_jsx(\"br\",{}),\"T\\xEAn B\\xE1o Gi\\xE1: \",file.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){return handleClick(file.id);},children:\"Xem chi ti\\u1EBFt\"})]}),selectedFileIds.includes(file.id)&&/*#__PURE__*/_jsx(FileStatistics,{fileId:file.id})]},file.id);})})]});};export default FileTable;","map":{"version":3,"names":["React","useState","useEffect","axios","FileStatistics","jsx","_jsx","jsxs","_jsxs","FileTable","_ref","directoryId","_useState","_useState2","_slicedToArray","files","setFiles","_useState3","_useState4","selectedFileIds","setSelectedFileIds","fetchFiles","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","headers","sent","data","t0","console","error","stop","apply","arguments","handleClick","fileId","prevSelectedFileIds","includes","filter","id","_toConsumableArray","className","children","map","file","name","onClick"],"sources":["/Users/phamthuan/Downloads/getis/src/FileTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport FileStatistics from './FileStatistics';\n\nimport 'bootstrap/dist/css/bootstrap.min.css'; // Import CSS Bootstrap\n\nconst FileTable = ({ directoryId }) => {\n  const [files, setFiles] = useState([]);\n  const [selectedFileIds, setSelectedFileIds] = useState([]);\n\n  useEffect(() => {\n    const fetchFiles = async () => {\n      try {\n        const response = await axios.get(`/public-api/directory/${directoryId}/file`, {\n          headers: { 'Authorization': 'xxftwft1uud79b0pm7g4ohl0' }\n        });\n        setFiles(response.data.files);\n      } catch (error) {\n        console.error('Error fetching files:', error);\n      }\n    };\n\n    fetchFiles();\n  }, [directoryId]);\n\n  const handleClick = (fileId) => {\n    setSelectedFileIds((prevSelectedFileIds) => {\n      if (prevSelectedFileIds.includes(fileId)) {\n        return prevSelectedFileIds.filter((id) => id !== fileId);\n      } else {\n        return [...prevSelectedFileIds, fileId];\n      }\n    });\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>List of Files</h2>\n      <ul className=\"list-group\">\n        {files.map((file) => (\n          <li key={file.id} className=\"list-group-item justify-content-between align-items-center\">\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <span>\n                File ID: {file.id}\n                <br />\n                Tên Báo Giá: {file.name}\n              </span>\n              <button className=\"btn btn-primary\" onClick={() => handleClick(file.id)}>\n                Xem chi tiết\n              </button>\n            </div>\n            {selectedFileIds.includes(file.id) && <FileStatistics fileId={file.id} />}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default FileTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}